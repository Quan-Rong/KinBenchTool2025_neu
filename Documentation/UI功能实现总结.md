# UIåŠŸèƒ½å®ç°æ€»ç»“

## âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šå¥—ç»“æœå¯¹æ¯”åŠŸèƒ½ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

**å®ç°ä½ç½®ï¼š**
- `BaseTestTab`ç±»ï¼šæ·»åŠ äº†`results_history`åˆ—è¡¨å’Œ`color_palette`
- `BumpTestTab`ï¼šå®Œæ•´å®ç°äº†å¤šå¥—ç»“æœå¯¹æ¯”
- `RollTestTab`ï¼šå®Œæ•´å®ç°äº†å¤šå¥—ç»“æœå¯¹æ¯”

**åŠŸèƒ½è¯´æ˜ï¼š**
- å½“`compare_count > 0`æ—¶ï¼Œæ¯æ¬¡ç‚¹å‡»GOæŒ‰é’®ä¼šå­˜å‚¨å½“å‰ç»“æœåˆ°å†å²è®°å½•
- å¦‚æœå†å²è®°å½•å·²æ»¡ï¼Œä¼šç§»é™¤æœ€æ—§çš„ç»“æœ
- æ›´æ–°å›¾è¡¨æ—¶ä¼šéå†æ‰€æœ‰å†å²è®°å½•ï¼Œç”¨ä¸åŒé¢œè‰²å åŠ æ˜¾ç¤º
- æ¯å¥—ç»“æœä½¿ç”¨`color_palette`ä¸­çš„ä¸åŒé¢œè‰²

**ä½¿ç”¨æ–¹æ³•ï¼š**
1. è®¾ç½®"Compare Count"ä¸ºæƒ³è¦å¯¹æ¯”çš„æ•°é‡ï¼ˆ1-10ï¼‰
2. ä¾æ¬¡åŠ è½½ä¸åŒçš„.resæ–‡ä»¶å¹¶ç‚¹å‡»GO
3. å›¾è¡¨ä¼šè‡ªåŠ¨å åŠ æ˜¾ç¤ºæ‰€æœ‰ç»“æœï¼Œæ¯å¥—ä½¿ç”¨ä¸åŒé¢œè‰²

---

### 2. å‚è€ƒè½¦è¾†é€‰æ‹©æŒ‰é’®ç»„

**å®ç°ä½ç½®ï¼š**
- `BaseTestTab`ç±»ï¼šæ·»åŠ äº†`setup_reference_vehicles`å…¬å…±æ–¹æ³•

**åŠŸèƒ½è¯´æ˜ï¼š**
- åˆ›å»ºäº†10ä¸ªå‚è€ƒè½¦è¾†StateButtonï¼ˆä¸Matlabç¨‹åºä¸€è‡´ï¼‰
- ä½¿ç”¨`QButtonGroup`ç®¡ç†äº’æ–¥é€‰æ‹©
- æŒ‰é’®å¯é€‰ä¸­ï¼Œä½†å®é™…æ•°æ®åŠ è½½åŠŸèƒ½å°šæœªå®ç°ï¼ˆå ä½å®ç°ï¼‰

**å‚è€ƒè½¦è¾†åˆ—è¡¨ï¼š**
- VW UP!
- VW Golf
- BYD Dolphin
- TOYOTA Yaris
- BMW 325i
- VW ID.3
- FORD EDGE
- Tesla Model 3
- VW Passat
- BYD Delphin

---

### 3. æ§åˆ¶æŒ‰é’®ï¼ˆæ¯ä¸ªæµ‹è¯•Tabï¼‰

**å®ç°ä½ç½®ï¼š**
- `BaseTestTab`ç±»ï¼šæ·»åŠ äº†`setup_control_buttons`å…¬å…±æ–¹æ³•

**å·²æ·»åŠ çš„æŒ‰é’®ï¼š**
- âœ… **Clear Axes** - æ¸…ç©ºå›¾è¡¨ï¼ˆåŠŸèƒ½å·²å®ç°ï¼‰
- âœ… **Positive Direction** - æ­£æ–¹å‘è®¾ç½®ï¼ˆUIå­˜åœ¨ï¼ŒåŠŸèƒ½å ä½ï¼‰
- âœ… **Custom Plot** - è‡ªå®šä¹‰ç»˜å›¾ï¼ˆUIå­˜åœ¨ï¼ŒåŠŸèƒ½å ä½ï¼‰
- âœ… **Export to PPT** - å¯¼å‡ºåˆ°PPTï¼ˆUIå­˜åœ¨ï¼ŒåŠŸèƒ½å ä½ï¼‰

**ä½¿ç”¨æ–¹æ³•ï¼š**
- æ‰€æœ‰æµ‹è¯•Tabéƒ½ä¼šè‡ªåŠ¨æ˜¾ç¤ºè¿™äº›æŒ‰é’®
- æœªå®ç°åŠŸèƒ½çš„æŒ‰é’®ä¼šæ˜¾ç¤º"åŠŸèƒ½å°šæœªå®ç°"æ¶ˆæ¯

---

## â³ å¾…å®Œæˆçš„å·¥ä½œ

### 1. å…¶ä»–æµ‹è¯•Tabçš„ä¿®æ”¹

**éœ€è¦ä¿®æ”¹çš„Tabï¼š**
- `StaticLoadLateralTab`
- `StaticLoadBrakingTab`
- `StaticLoadAccelerationTab`

**éœ€è¦ä¿®æ”¹çš„å†…å®¹ï¼š**
1. ä¿®æ”¹`process_data`æ–¹æ³•ï¼Œè¿”å›ç»“æœæ•°æ®å­—å…¸
2. ä¿®æ”¹`update_plots`æ–¹æ³•ï¼Œæ”¯æŒå¤šå¥—ç»“æœå¯¹æ¯”ï¼ˆå‚è€ƒBumpTestTabå’ŒRollTestTabçš„å®ç°ï¼‰
3. åœ¨`setup_ui`ä¸­è°ƒç”¨`setup_control_buttons`å’Œ`setup_reference_vehicles`ï¼ˆå¦‚æœè¿˜æ²¡æœ‰è°ƒç”¨ï¼‰

**ä¿®æ”¹ç¤ºä¾‹ï¼š**

```python
# 1. ä¿®æ”¹process_dataæ–¹æ³•
def process_data(self) -> Optional[Dict[str, Any]]:
    if not self.calculator:
        return None
    try:
        # ... è®¡ç®—é€»è¾‘ ...
        # è¿”å›ç»“æœæ•°æ®
        return {
            'result_key': result_data,
        }
    except Exception as e:
        # ... é”™è¯¯å¤„ç† ...
        return None

# 2. ä¿®æ”¹update_plotsæ–¹æ³•ï¼ˆå‚è€ƒBumpTestTabçš„å®ç°ï¼‰
def update_plots(self):
    # æ¸…ç©ºæ‰€æœ‰å›¾è¡¨
    self.widget.clear()
    
    # å¦‚æœæ²¡æœ‰å†å²è®°å½•ï¼Œåªæ˜¾ç¤ºå½“å‰ç»“æœ
    if not self.results_history and self.calculator:
        # ç»˜åˆ¶å½“å‰ç»“æœ
        plot_function(...)
    else:
        # æ˜¾ç¤ºæ‰€æœ‰å†å²è®°å½•ï¼ˆå¤šå¥—ç»“æœå¯¹æ¯”ï¼‰
        for idx, result_entry in enumerate(self.results_history):
            calculator = result_entry['calculator']
            curve_color = result_entry.get('curve_color', self.color_palette[idx % len(self.color_palette)])
            # ç»˜åˆ¶æ¯å¥—ç»“æœ
            plot_function(..., curve_color=curve_color, compare_count=idx)
    
    # åˆ·æ–°å›¾è¡¨
    self.widget.draw()
```

---

### 2. å…¨å±€ä¿å­˜æŒ‰é’®

**éœ€è¦æ·»åŠ çš„æŒ‰é’®ï¼š**
- **Save Results in PPT** - ä¿å­˜ç»“æœåˆ°PPT
- **Save Results in EXCEL** - ä¿å­˜ç»“æœåˆ°Excel
- **Add Results** - æ·»åŠ ç»“æœ
- **All KnC finished then output >>>>>> Chassis Synthesis Tool** - è¾“å‡ºåˆ°Chassis Synthesis Tool

**å®ç°ä½ç½®ï¼š**
- åº”è¯¥åœ¨ä¸»çª—å£ï¼ˆ`MainWindow`ï¼‰æˆ–ä¸»Tabç»„åº•éƒ¨æ·»åŠ 
- ä¸åº”è¯¥åœ¨æ¯ä¸ªå­Tabä¸­é‡å¤

**å®ç°æ–¹æ³•ï¼š**
1. åœ¨`MainWindow.setup_ui`ä¸­ï¼Œåœ¨ä¸»Tabç»„åº•éƒ¨æ·»åŠ æŒ‰é’®åŒºåŸŸ
2. æˆ–è€…åˆ›å»ºä¸€ä¸ªå…¨å±€æ§åˆ¶é¢æ¿ï¼Œæ”¾åœ¨ä¸»çª—å£åº•éƒ¨

---

### 3. å…¨å±€æ§åˆ¶åŒºåŸŸä½ç½®è°ƒæ•´

**å½“å‰é—®é¢˜ï¼š**
- é¢œè‰²é€‰æ‹©å™¨ã€å¯¹æ¯”æ•°é‡Spinnerã€ResetæŒ‰é’®åœ¨æ¯ä¸ªå­Tabä¸­é‡å¤
- åº”è¯¥ç§»åˆ°ä¸»Tabç»„åº•éƒ¨ï¼Œä½œä¸ºå…¨å±€æ§åˆ¶

**è§£å†³æ–¹æ¡ˆï¼š**
1. ä»`BaseTestTab.setup_global_controls`ä¸­ç§»é™¤è¿™äº›æ§ä»¶
2. åœ¨ä¸»çª—å£åº•éƒ¨åˆ›å»ºå…¨å±€æ§åˆ¶é¢æ¿
3. æ‰€æœ‰Tabå…±äº«è¿™äº›å…¨å±€æ§åˆ¶

---

### 4. é¢å¤–Tab

**éœ€è¦æ·»åŠ ï¼š**
- Front Suspension Tab
- Batch All Front Suspension Tab
- Batch All Rear Suspension Tab
- Variant and Coordinate Sys. Tab

**ä¼˜å…ˆçº§ï¼š** ä½ï¼ˆå¯ä»¥åç»­å®ç°ï¼‰

---

### 5. ç•Œé¢æ ·å¼åŒ¹é…

**éœ€è¦è°ƒæ•´ï¼š**
- çª—å£å¤§å°ï¼š1557 x 832ï¼ˆä¸Matlabä¸€è‡´ï¼‰
- çª—å£ä¸å¯è°ƒæ•´å¤§å°
- å­—ä½“ï¼šTimes New Roman
- èƒŒæ™¯è‰²å’ŒæŒ‰é’®æ ·å¼
- å¸ƒå±€ç»†èŠ‚

**ä¼˜å…ˆçº§ï¼š** ä¸­ï¼ˆé‡è¦ä½†éç´§æ€¥ï¼‰

---

## ğŸ“ ä»£ç ä¿®æ”¹æŒ‡å—

### å¦‚ä½•ä¸ºæ–°Tabæ·»åŠ å¤šå¥—ç»“æœå¯¹æ¯”åŠŸèƒ½

1. **ä¿®æ”¹`process_data`æ–¹æ³•ï¼š**
   ```python
   def process_data(self) -> Optional[Dict[str, Any]]:
       # ... è®¡ç®—é€»è¾‘ ...
       return {'result_key': result_data}  # è¿”å›ç»“æœå­—å…¸
   ```

2. **ä¿®æ”¹`update_plots`æ–¹æ³•ï¼š**
   ```python
   def update_plots(self):
       # æ¸…ç©ºå›¾è¡¨
       self.widget.clear()
       
       # æ˜¾ç¤ºå½“å‰ç»“æœæˆ–å¤šå¥—ç»“æœå¯¹æ¯”
       if not self.results_history and self.calculator:
           # å•å¥—ç»“æœ
           plot_function(..., compare_count=0)
       else:
           # å¤šå¥—ç»“æœå¯¹æ¯”
           for idx, result_entry in enumerate(self.results_history):
               calculator = result_entry['calculator']
               curve_color = result_entry.get('curve_color', 
                   self.color_palette[idx % len(self.color_palette)])
               plot_function(..., curve_color=curve_color, compare_count=idx)
       
       self.widget.draw()
   ```

3. **ç¡®ä¿`setup_ui`ä¸­è°ƒç”¨äº†å…¬å…±æ–¹æ³•ï¼š**
   ```python
   def setup_ui(self):
       # ... å…¶ä»–UIè®¾ç½® ...
       
       # æ§åˆ¶æŒ‰é’®
       self.setup_control_buttons(main_layout)
       
       # å‚è€ƒè½¦è¾†é€‰æ‹©
       self.setup_reference_vehicles(main_layout)
       
       # å…¨å±€æ§åˆ¶
       self.setup_global_controls(main_layout)
   ```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### ä¼˜å…ˆçº§1ï¼ˆç«‹å³å®Œæˆï¼‰
1. âœ… å¤šå¥—ç»“æœå¯¹æ¯”åŠŸèƒ½ - **å·²å®Œæˆ**
2. âœ… å‚è€ƒè½¦è¾†é€‰æ‹©æŒ‰é’®ç»„ - **å·²å®Œæˆ**
3. âœ… æ§åˆ¶æŒ‰é’® - **å·²å®Œæˆ**
4. â³ ä¿®æ”¹å…¶ä»–Static Load Tab - **è¿›è¡Œä¸­**
5. â³ åœ¨ä¸»çª—å£æ·»åŠ å…¨å±€ä¿å­˜æŒ‰é’® - **å¾…å®ç°**

### ä¼˜å…ˆçº§2ï¼ˆé‡è¦ï¼‰
6. â³ è°ƒæ•´å…¨å±€æ§åˆ¶åŒºåŸŸä½ç½®
7. â³ å®Œå–„æ‰€æœ‰Tabçš„å¤šå¥—ç»“æœå¯¹æ¯”åŠŸèƒ½

### ä¼˜å…ˆçº§3ï¼ˆæ‰©å±•ï¼‰
8. â³ æ·»åŠ é¢å¤–Tab
9. â³ å®Œå…¨åŒ¹é…ç•Œé¢æ ·å¼

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **å¤šå¥—ç»“æœå¯¹æ¯”åŠŸèƒ½**ï¼šéœ€è¦ç¡®ä¿æ‰€æœ‰ç»˜å›¾å‡½æ•°éƒ½æ”¯æŒ`compare_count`å‚æ•°ï¼Œç”¨äºæ§åˆ¶æ–‡æœ¬ä½ç½®
2. **å‚è€ƒè½¦è¾†åŠŸèƒ½**ï¼šè™½ç„¶UIå·²æ·»åŠ ï¼Œä½†å®é™…æ•°æ®åŠ è½½å’Œå¯¹æ¯”åŠŸèƒ½å°šæœªå®ç°ï¼ˆè¿™æ˜¯æœªæ¥çš„å·¥ä½œï¼‰
3. **æŒ‰é’®å ä½å®ç°**ï¼šæ‰€æœ‰æœªå®ç°åŠŸèƒ½çš„æŒ‰é’®éƒ½æœ‰å ä½å›è°ƒï¼Œæ˜¾ç¤º"åŠŸèƒ½æœªå®ç°"æ¶ˆæ¯
4. **ä»£ç å¤ç”¨**ï¼šå‚è€ƒè½¦è¾†æŒ‰é’®ç»„å’Œæ§åˆ¶æŒ‰é’®çš„åˆ›å»ºå·²æå–ä¸ºåŸºç±»æ–¹æ³•ï¼Œå‡å°‘é‡å¤ä»£ç 

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### å¤šå¥—ç»“æœå­˜å‚¨ç»“æ„
```python
result_entry = {
    'calculator': self.calculator,      # è®¡ç®—å™¨å¯¹è±¡
    'extractor': self.extractor,        # æ•°æ®æå–å™¨
    'parser': self.parser,              # æ–‡ä»¶è§£æå™¨
    'file_path': file_path,             # æ–‡ä»¶è·¯å¾„
    'result_data': result_data,         # è®¡ç®—ç»“æœ
    'curve_color': self.curve_color,    # æ›²çº¿é¢œè‰²
    'fit_color': self.fit_color,        # æ‹Ÿåˆçº¿é¢œè‰²
}
```

### é¢œè‰²è°ƒè‰²æ¿
```python
self.color_palette = [
    '#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd',
    '#8c564b', '#e377c2', '#7f7f7f', '#bcbd22', '#17becf'
]  # 10ç§ä¸åŒé¢œè‰²ç”¨äºå¯¹æ¯”
```
